<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inventory - Warehouse Mini CRM</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header>
        <h1>Inventory</h1>
        <nav>
            <button onclick="location.href='/'">Home</button>
            <button onclick="location.href='/orders'">Orders</button>
            <button onclick="location.href='/contacts'">Contacts</button>
        </nav>
    </header>
    <main>
        <h2>Inventory List</h2>
        <div id="inventory-table">
            <!-- Inventory will be loaded here by JavaScript -->
        </div>
    </main>
    <footer>
        <span id="status">Not connected</span>
    </footer>
    <script>
        fetch('/api/inventory')
            .then(response => response.json())
            .then(data => {
                let html = '<table><tr>';
                if (data.length > 0) {
                    Object.keys(data[0]).forEach(key => {
                        html += `<th>${key}</th>`;
                    });
                    html += '</tr>';
                    data.forEach(item => {
                        html += '<tr>';
                        Object.values(item).forEach(val => {
                            html += `<td>${val}</td>`;
                        });
                        html += '</tr>';
                    });
                } else {
                    html += '<td>No inventory found.</td></tr>';
                }
                html += '</table>';
                document.getElementById('inventory-table').innerHTML = html;
            })
            .catch(() => {
                document.getElementById('inventory-table').innerHTML = '<p>Could not load inventory.</p>';
            });
    </script>
</body>
</html>